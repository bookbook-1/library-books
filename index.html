<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>êµì‚¬ìš© ë„ì„œ ì˜¨ë¼ì¸ ì „ì‹œíšŒ</title>
    <style>
        body { font-family: 'Nanum Gothic', sans-serif; background-color: #f8f9fa; padding: 40px 20px; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 25px; max-width: 1100px; margin: 0 auto; }
        .book-card { background: white; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.07); overflow: hidden; transition: 0.3s; text-decoration: none; color: #333; text-align: center; padding: 15px; }
        .book-card:hover { transform: translateY(-10px); }
        .book-card img { width: 100%; height: 280px; object-fit: contain; border-radius: 10px; margin-bottom: 15px; }
        .book-card p { font-weight: bold; font-size: 1rem; margin: 0; word-break: keep-all; }
    </style>
</head>
<body>
    <h1 style="text-align:center; margin-bottom:50px;">ğŸ“š êµì§ì› ì‹ ì°©ë„ì„œ </h1>
    <div id="book-gallery" class="gallery"></div>

<script>
        /**
         * 2. ì‹¤ì‹œê°„ ì—°ë™ ì„¤ì •
         * [íŒŒì¼] > [ê³µìœ ] > [ì›¹ì— ê²Œì‹œ] ì—ì„œ ê°€ì ¸ì˜¨ CSV ì£¼ì†Œë¥¼ ì•„ë˜ì— ë„£ìœ¼ì„¸ìš”.
         */
        const sheetCsvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQvgpFiJL5vGTUdZk3u_cnRyXeZ-Ej5u_FC3HihBMHtHs17ZBSObgQe6aWDH3UFIHpu0oKy1TYhcKPP/pub?gid=0&single=true&output=csv";

        async function loadBooks() {
            try {
                const response = await fetch(sheetCsvUrl);
                const data = await response.text();
                
                // CSV íŒŒì‹± (ì¤„ ë°”ê¿ˆìœ¼ë¡œ ë‚˜ëˆ„ê¸°)
                const rows = data.split('\n').slice(1); 
                const gallery = document.getElementById('book-gallery');
                gallery.innerHTML = ''; // ì´ˆê¸°í™”

                rows.forEach(row => {
                    // ì‰¼í‘œë¡œ ì—´ êµ¬ë¶„ (ì œëª©, ì´ë¯¸ì§€, ë§í¬)
                    const columns = row.split(',');
                    if (columns.length >= 3) {
                        const title = columns[0].trim();
                        const img = columns[1].trim();
                        const link = columns[2].trim();

                        // ì´ë¯¸ì§€ê°€ ìˆëŠ” ë°ì´í„°ë§Œ í‘œì‹œ
                        if (img && img !== "ì´ë¯¸ì§€") {
                            const card = `
                                <a href="${link}" target="_blank" class="book-card">
                                    <img src="${img}" alt="${title}">
                                    <p>${title}</p>
                                </a>
                            `;
                            gallery.innerHTML += card;
                        }
                    }
                });
            } catch (error) {
                console.error("ë°ì´í„° ë¡œë“œ ì—ëŸ¬:", error);
                document.getElementById('book-gallery').innerHTML = "<p>ë„ì„œ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>";
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        loadBooks();
    </script>
</body>
</html>
